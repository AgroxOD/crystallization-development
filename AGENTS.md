# Repository Guidelines

- Update `ROADMAP.md`, `README.md`, `CHANGELOG.md`, and this `AGENTS.md` with each pull request.
- Use `npm run crystal:avg` to verify crystallization level when possible.
- Keep the badge in `README.md` up to date using the result of `npm run crystal:avg`.
- Use `npm run crystal:update-badge` to automatically refresh the README badge.
- GitHub Actions workflow `update-badge.yml` runs weekly to keep the badge current.
- Encourage new CLI implementations in `cli-implementations/` for other languages.
- See CONTRIBUTING.md for guidelines on adding new CLI implementations.
- A minimal Bash script is available as an experimental example; reference CLI for Bash completed.
- New command `list-funcs` now caches results for faster repeated runs and stores the most common function in `most_common_function.txt`.
- New command `list-diamonds` lists all tasks with `diamond` status.
- New command `list-tasks` prints all tasks with their statuses.
- New command `stats` provides summary analytics across tasks.
- New command `goal` shows or sets the `goal_percentage` value for crystallization.
- `crystallization.json` now includes `goal_percentage` to track desired level.
- Core logic extracted to `src/core.ts`; CLI implementations should import from this module.
- Helpers `addTask` and `updateAttributes` simplify task management in CLI.
- `crystal:sync` keeps `crystallization.json` synchronized between the repo and `.vscode` for IDE integration.
- Diamond rule: tasks reaching all KPI thresholds get `diamond` status.
- Use `crystal:init` to "crystallize" any repository with a starter `crystallization.json`.
- Use `create_env_from_exports.sh` to generate a `.env` file when environment exports are required.
- Refer to `CRYSTALLIZATION_PROTOCOL.md` for the official specification.
- `CORE.md` описывает когнитивное ядро и архитектурные принципы проекта.
- Задачи поддерживают поля `complexity` и `tags`, их можно изменять через `update-attrs`.
- This PR demonstrates a 10-iteration improvement loop with KPI tracking.
- Run `npm run lint` and `npm run format` before committing changes.
- Run `npm test` to execute unit tests before submitting a PR.
- Commit messages should follow the Conventional Commits style; commitlint will enforce it.
- Keep `package-lock.json` synced with `package.json` by running `npm install` whenever dependencies change.
- See `docs/future_recommendations_ru.md` for long-term ideas.
- Repository now crystallized to 100%; maintain level above 95%.
- `CORE.md` содержит годовой план развития; при обновлении Roadmap ориентируйтесь на эти этапы.
- Файл `docs/github_api_usage.md` теперь содержит расширенное руководство по интеграции GitHub API в другие проекты.
- Сохраняйте GitHub токен в `exports.sh` и генерируйте `.env` через `scripts/create_env_from_exports.sh`.
- Для внешней интеграции доступен REST API сервер (`npm run crystal:api`) и пример скрипта `scripts/api_integration_example.ts`.
- Расширенное руководство по REST API доступно в `docs/rest_api_usage_ru.md`.
- Новый скрипт `crystal:auto-update` обновляет репозитории с устаревшей версией кристализатора через GitHub API.
- Документ `docs/github_api_usage.md` дополнен примером curl для получения списка коммитов.
- Реализован скрипт `crystal:loop` для автоматического запуска цикла улучшения задач.
- Запускайте его командой `npm run crystal:loop [n]`, где `n` — число итераций (по умолчанию 10).
